<!DOCTYPE html>
<html>
<head>
    <title>Уровень 3 </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
</head>
<body>
<div class=" blur" id = "blur">

    <div class="highParal">  
        <div class="rules">
            <p><b>Правила уровня 3:</b></p>
	<p>- Соберите пирамиду по правилам от большего к меньше. Цвета соседних колечек должны отличаться</p>
    <p>- Баллы также начисляются за скорость - чем быстрее, тем больше баллов.</p>
    <p>- Надо собрать пирамидку из 6 блоков</p>
        </div>
        <div>
        <div class="auth"></div>
        <form>
            <button class ="butExit" id="submit" >Выйти</button>
        </form>
        
        </div>
    </div>
	<div class = "root"></div>
</div>

<script>
    if(localStorage.getItem('colorin')==='true'){
		
		document.getElementById('blur').style.background = 'rgba(70, 130, 180, 0.35)'
	}
	else{
		
		document.getElementById('blur').style.background = 'rgba(30, 190, 140, 0.35)'
	}

    function formatTimeLeft(time) {
    // Наибольшее целое число меньше или равно результату деления времени на 60.
        const minutes = Math.floor(time / 60);
        
        // Секунды – это остаток деления времени на 60 (оператор модуля)
        let seconds = time % 60;
        
        // Если значение секунд меньше 10, тогда отображаем его с 0 впереди 
        if (seconds < 10) {
            seconds = `0${seconds}`;
        }

        // Вывод в формате MM:SS
        return `${minutes}:${seconds}`;
    }



    var handleSubmit = (e) => {
		e.preventDefault()
		window.location.href = './index.html'
	}
    document.getElementById("submit").addEventListener('click', handleSubmit)

    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            const name = localStorage.getItem('currentUser')
            //localStorage.setItem('currentUser', name);
            document.querySelector('.auth').innerHTML = `Вы авторизовались как <b>${name}</b>`

            new window.Game({
                rootNode: document.querySelector('.root'),
                username: name,
                level: 3,
                startTime: Date.now(),
                dropInterval: 1,
                dropSpeed: 5,
                checkSize: true,
                checkColor: true,
                pyramHeight: 6
            })
        }, 0)
    })
</script>
</body>
</html>