<!DOCTYPE html>
<html>
<head>
    <title>Уровень 1 </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- <link rel="stylesheet" href="../css/common.css"> -->
    
</head>
<body>

<div class=" blur">
	<p>Правила уровня 1:</p>
	<p>- Почувствуйте себя ребенком, просто соберите пирамидку без правил.</p>
    <p>- Баллы также начисляются за скорость - чем быстрее, тем больше баллов.</p>
	<p>- Надо собрать пирамидку из 5 блоков</p>
    <div class="auth"></div>
	<div class = "root"></div>
</div>

<script>
    var modal1 = $modal({
	title: 'Правила',
	content: '- Почувствуйте себя ребенком, просто соберите пирамидку без правил.',
	footerButtons: [
    { class: 'btn btn__cancel', text: 'Отмена', handler: 'modalHandlerCancel' },
    { class: 'btn btn__ok', text: 'ОК', handler: 'modalHandlerOk' }
    ]

	});
	document.addEventListener('click', function(e) {
    if (e.target.dataset.toggle === 'modal') {
      modal.show();
    }else if (e.target.dataset.handler === 'modalHandlerCancel') {
      modal.hide();
    } else if (e.target.dataset.handler === 'modalHandlerDelete') {
      elemTarget.parentElement.removeChild(elemTarget);
      modal.hide();}
    }),


    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            const name = localStorage.getItem('currentUser')
            //localStorage.setItem('currentUser', name);
            document.querySelector('.auth').innerHTML = `Вы авторизовались как ${name}`

            new window.Game({
                rootNode: document.querySelector('.root'),
                username: name,
                level: 1,
                startTime: Date.now(),
                dropInterval: 2,
                dropSpeed: 10,
                checkSize: false,
                checkColor: false,
                pyramHeight: 5
            })
        }, 0)
    })
    
</script>

</body>
</html>